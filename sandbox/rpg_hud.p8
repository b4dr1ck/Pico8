pico-8 cartridge // http://www.pico-8.com
version 42
__lua__

hud_keys={"equip","items","spec"}
hud={
	equip={
		icons={{16,17,21},
									{22,20,23}},
		x_offset=88,
		y_offset=0,
	},
	items={
		icons={{24,25,26}},
		x_offset=88,
		y_offset=24,
	},
	spec={
		icons={{16,17,18},
									{27,28,29},
									{30,31,32}},
		x_offset=88,
		y_offset=40,
	}
}

select_obj={
	type=1,
	row=1,
	col=1,
	selected=16,
	x=96,
	y=8,
}

function _update()
	if btnp(➡️) then
		s=select_obj
		if #hud[hud_keys[s.type]].icons[s.row] > 1 then
	
			s.x+=8	
			s.col+=1
			s.selected=hud[hud_keys[s.type]].icons[s.row][s.col]
			
			if s.col > #hud[hud_keys[s.type]].icons[s.row] then
				s.x=96
				s.col=1
				s.selected=hud[hud_keys[s.type]].icons[s.row][s.col]
			end
		end
	end
		
	if btnp(⬅️) then
		s=select_obj
		
		if #hud[hud_keys[s.type]].icons[s.row] > 1 then
			s.x-=8	
			s.col-=1
			s.selected=hud[hud_keys[s.type]].icons[s.row][s.col]
			
			if s.col < 1 then
				s.col=#hud[hud_keys[s.type]].icons[s.row]
				s.x=96 + (2*8)
				s.selected=hud[hud_keys[s.type]].icons[s.row][s.col]
			end
		end
	end	
	
	if btnp(⬇️) then
		s=select_obj
		s.y+=8	
		s.row+=1

		if s.row > #hud[hud_keys[s.type]].icons then
			s.row=1
			s.type+=1
			s.y+=8
			
			if s.type > #hud_keys then
			 s.type=1	
				s.y=hud[hud_keys[1]].y_offset + 8
			end
		end

		s.selected=hud[hud_keys[s.type]].icons[s.row][s.col]
  	
	end
	
	if btnp(⬆️) then
		s=select_obj
		s.y-=8	
		s.row-=1
			
		if s.row < 1 then
			s.type-=1
			s.y-=8
			if s.type < 1 then
			 s.type=#hud_keys	
				s.y=64 -- fix me (hardcoded)
			end
			s.row=#hud[hud_keys[s.type]].icons
		end
		
		s.selected=hud[hud_keys[s.type]].icons[s.row][s.col]
	end
	
end

function _draw()
	cls()

	map(0,0,0,0,16,16)	

	palt(0,false)
	
	for k,v in pairs(hud) do
		for row=1,#v.icons do
			for col=1,#v.icons[row] do
			spr(v.icons[row][col],
							col*8 + v.x_offset,
							row*8 + v.y_offset)
			end
		end
	end
	
	print(select_obj.selected)
	print(select_obj.type)
	print(select_obj.row)
	
	rect(select_obj.x - 1,
					 select_obj.y - 1,
					 select_obj.x + 8,
					 select_obj.y + 8,
					 7)
	
end
__gfx__
0000000011111111a95555511555559a1aaaaaaaaaaaaaa1a95555511555559aaaaaaaaa11111111000000000000000000000000000000000000000000000000
0000000011111111a95555511555559aaa999999999999aaa95555555555559a9999999955555555000000000000000000000000000000000000000000000000
0070070011111111a95555511555559aa91111111111119aa95555555555559a1111111155555555000000000000000000000000000000000000000000000000
0007700011111111a95555511555559aa95555555555559aa95555555555559a5555555555555555000000000000000000000000000000000000000000000000
0007700011111111a95555511555559aa95555555555559aa95555555555559a5555555555555555000000000000000000000000000000000000000000000000
0070070011111111a95555511555559aa95555555555559aa95555555555559a5555555555555555000000000000000000000000000000000000000000000000
0000000011111111a95555511555559aa95555555555559aaa9999999999999a5555555599999999000000000000000000000000000000000000000000000000
0000000011111111a95555511555559aa95555511555559a1aaaaaaaaaaaaaa111111111aaaaaaaa000000000000000000000000000000000000000000000000
0000007c004242000000000000001cc00000000000000000000000000098890000000000000000000000000000000000003bbb3020ed0000a009000a000000dc
000007c60499994000f0f0000000cc7c00444440002565000650056009a22a9000766600007666000076660000aa990003b3bbbb0e7e2d00090900900000dcc0
00007c602942449200f0f0f00000cccc0044444002555650556666559a0000a90007600000076000000760000aaaa980bbbb33b30ded02d000899800000cccc0
0007c600294a749400f0f0f00000dcc1000222000555565055555555a000000a0007600000076000000760000aaaa9903333033002000020999aa90000cccd00
09ac6000294aa49400f9f9f0000d5000000942000510015001555510a000000a00666600006666000066660009aa99900000300000002020009aa9990cccc000
009a600029424292f0fffff000d500009404422005500650001111009a0000a9067788600677bb600677cc600999999030b000b000000020008998000c7cd000
040900000499994009fffff00d50000044444220025006500611116009a00a900688886006bbbb6006cccc6000899800000000000000d200090090900dcc0000
400000000042420000099900d5000000222222200000000005511550009999000062260000633600006116000000000000b00b000dd22000a000900a00000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00049900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
04244440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
49422420000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
42444440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
22442420000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0000000000000000000000000000000001020304050600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000000000000040808080500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000020101010300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000020101010300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000020101010300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000020101010300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000020101010300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000020101010300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000020101010300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000020101010300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000020101010300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000020101010300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000020101010300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000020101010300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000020101010300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000020101010300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000060909090700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
