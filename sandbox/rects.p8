pico-8 cartridge // http://www.pico-8.com
version 42
__lua__

function new_rect(x,y,w)
 r={}
 r.x=x
	r.y=y
	r.w=w
	
 return r
end

rects={}
rects2={}
timer=0
spawntime=10

add(rects,new_rect(0,0,8))
add(rects2,new_rect(128,128,0))

function _update()
 timer+=1
 
 if timer == spawntime then
 	add(rects,new_rect(0,0,8))
 end
  
 if timer == spawntime then
 	add(rects2,new_rect(128,128,0))
  timer=0
 end
 
 for r in all(rects) do
		r.w+=1
		r.x+=1
		r.y+=1
		
	 if r.x > 200 or r.y > 200 then
	 	del(rects,r)
	 end
	end
	
 for r in all(rects2) do
		r.w-=1
		r.x-=1
		r.y-=1
		
	 if r.x < -20 or r.y < -20 then
	 	del(rects2,r)
	 end
	end
	
end

function _draw()
	cls()
	
 for r in all(rects) do
		rect(r.x,r.y,r.x+r.w,r.y+r.w,flr(rnd(15)))
	end
	
 for r in all(rects2) do
		rect(r.x,r.y,r.x+r.w,r.y+r.w,flr(rnd(15)))
	end
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
