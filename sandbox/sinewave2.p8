pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
function _init()
 cls()
 counter=1
 
 function create_wave(x,y)
 	w={}
	 w.xspeed=0.5
	 w.x=x
	 w.y=y
  w.col=8
	 w.amp=1
	 w.wpc=1/32 --waves per cycl
	 
	 return w
 end
 
 waves={}
 add(waves,create_wave(0,64))
end

function _update60()
 counter+=1
 if counter % 1000 == 0 then
	 counter=0
 end
 
 if counter % 5 == 0 then
	 add(waves,create_wave(0,64))
 end
 
 for wave in all(waves) do
	 wave.x+=wave.xspeed
	 wave.y=wave.amp * sin((wave.wpc) * wave.x) + wave.y
	 
	 --if wave.x > 127 then 
	 --	wave.x = 0 
	 	--wave.y = flr(rnd(80)) + 20
	 --	wave.col = flr(rnd(15)) + 1
	 --	wave.amp = rnd(3)+.05
	 --end
 end
end

function _draw()
	cls()
 for wave in all(waves) do
	 rectfill(wave.x,wave.y,wave.x,wave.y,wave.col)
 end
 print("sine wave...",0,0,7)
end

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
